package org.drooms.strategy.random;

import java.util.Random;
import org.drooms.api.Move;
import org.drooms.impl.logic.facts.CurrentTurn;
import org.slf4j.Logger;

declare entry-point rewardEvents
    @doc("A stream of reward events generated by the game")
end

declare entry-point gameEvents
    @doc("A stream of non-reward events generated by the game")
end

declare entry-point playerEvents
    @doc("A stream of events generated by players")
end

rule "Decide a move at random, even if it should kill the worm"
when
    CurrentTurn()
then
    Move[] values = Move.values();
    int size = values.length;
    Random random = new Random(System.nanoTime());
    channels["decision"].send(values[random.nextInt(size)]);
end